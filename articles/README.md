##
  L2 Interop のセキュリティについて：安全なメッセージングのための新しいアプローチ

L2
スケーリングソリューションの進化は、ブロックチェーンの相互運用性を新たなレベルに引き
上げています。しかし、この相互運用性には、セキュリティ上の課題も存在します。この記事では、L2 Interop におけるセキュリティ上の考慮事項について解説します
。特に、**信頼モデル**、**デポジットのみのブロック**、**メッセージングの安全性**、**安全性とレイテンシーのトレードオフ**
などについて詳しく説明します。

###  信頼モデル

L2 Interop の脆弱性は、**開始メッセージ**が実際にはカノニカルチェーンに存在しない場合に発生します。この問題は、主に以下の2つの要因
によって引き起こされます。

* **二重送信（Equivocation）**: シーケンサーがゴシッププロトコルを通じてブロックを公開しますが、最終的に L1 に書き込まれるブロックとは異なります。この問題が発生するのは、
ゴシッププロトコルブロックに開始メッセージとして使用されるログエントリが含まれている一方で、実際のブロック（L1 に書き込まれたブロック）には含まれていない場合です。この場合、不安全なブロックに依存するブロックも不安全となり、依存するブロックがすべて L1 に書き込ま
れるまで安全とは見なされません。
* **誤った情報**: シーケンサーオペレーターは、依存セット内のすべてのチェーンに対してバリデータノードを実行できます。これにより、各チェーンの安全なトランザクションから開始メッセージを推測することができます。しかし、シーケンサーはリソース
節約のために、ソースブロックチェーンの既存ノードにクエリすることもできます。この場合、シーケンサーに提供された情報が間違っていると、シーケンサーによって投稿されたブロックも間違ったものになります。

###  デポジットのみのブロック

誤ったブロックは、他のバリデータによって **デポジットのみ
のブロック** に置き換えられます。デポジットのみのブロックとは、開始メッセージに基づく実行メッセージを含まないブロックです。つまり、これらのブロックは単に資金のデポジットを処理し、他のトランザクションは実行しません。これは、誤ったブロックから発生する潜在的な悪影響を
最小限に抑えるためのセーフティメカニズムです。

###  レイテンシーとセキュリティのトレードオフ

開始メッセージは、別のブロックチェーン上のブロックから取得されます。開始メッセージをゴシッププロトコルを通じてブロックが利用可能になった時点で受け入れる場合、レイテンシーは最小限に抑
えられますが、ソースシーケンサーがゴシップを通じて誤った情報を送信する可能性があるため、セキュリティ上のリスクが高まります。逆に、ソースシーケンサーがブロックを L1 に投稿するまで待つ場合、ブロックの正確性をより確実に確認できますが、レイテンシーが長くなります。


このトレードオフを考慮して、以下の3つの可能性があります。

* **不安全な開始メッセージ**: 最小限のレイテンシーを実現するために、シーケンサーは、ゴシッププロトコルを通じて受信された不安全なブロックからのメッセージを受け入れるように設定できます。ただし、シーケンサーは
二重送信のリスクを最小限に抑えるために、L1 に書き込まれたブロック（ローカルセーフ）は、そのブロックとそのブロックチェーンのすべての先行ブロックも L1 に書き込まれるまで完全にセーフ（クロスセーフ）とは見なされません。
* **安全な開始メッセージ
**: シーケンサーは、開始メッセージがクロスセーフなブロックにある場合にのみ実行メッセージを受け入れるように設定できます。クロスセーフなブロックとは、L1 に書き込まれており、その依存関係（直接または間接的、同じチェーンの以前のブロックの依存関係を含む）がすべて L1 に
書き込まれているブロックです。この設定では、ソースシーケンサーは二重送信を実行できず、状態の再計算が必要になるのは L1 の再編成が発生した場合のみとなります。この強化されたセキュリティの代償として、メッセージが1つのブロックチェーンから別のブロックチェーンに渡されるまでの時間が長くなります。

* **確定された開始メッセージ**: シーケンサーは、開始メッセージが確定されるまで、つまり L1 に不可逆的に書き込まれ、再編成の影響を受けないようになるまで、すべての実行メッセージを拒否するように設定できます。現在、この設定ではメッセージのレイテンシーが約15分
長くなります。

###  安全と不安全のセキュリティダイアグラム

シーケンサーが不安全な開始メッセージを受け入れる場合でも、そのメッセージに基づいて構築されるブロックは、開始メッセージを含むブロックが L1 に書き込まれて安全になるまで、不安全と見なされます。

###  
まとめ

L2 Interop は、ブロックチェーンの相互運用性を向上させる革新的な技術ですが、セキュリティ上の課題も存在します。信頼モデル、デポジットのみのブロック、メッセージングの安全性、レイテンシーとセキュリティのトレードオフなどを慎重に検討することで、安全で信頼性の高い
相互運用性を実現できます。

**前回の投稿記事:**
（前回の投稿記事の内容をここに記述）

この記事が、L2 Interop のセキュリティについて理解を深める助けになれば幸いです。

