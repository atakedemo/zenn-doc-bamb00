##
 L2 Interop: 理解するためのセキュリティと信頼モデル

以前の記事では、L2
スケーリングの仕組みとOP Stackの基本を紹介しました。今回は、L2
 Interopのセキュリティと信頼モデルについて詳しく解説します。

**Interopとは？**

Interopは、異なるL2チェーン間での相互運用性を可能にする
仕組みです。例えば、あるL2チェーンで発生したイベントを別のL2チェーンのスマートコントラクトに伝達することで、2つのチェーン間
で連携することができます。

**Interopにおけるセキュリティ上の課題**

Interopでは、以下の2つのセキュリティ上の課題が発生する可能性があります。

1. **信頼モデル：** Interopは、異なるL2チェーン間でのデータの信頼
性に依存します。あるチェーンで発生したイベントが、別のチェーンに正しく伝達されることを保証する必要があります。
2. **時間遅れ：** Interopでは、あるチェーンから別のチェーンにデータを伝達する
際に、時間遅れが発生します。この遅れは、セキュリティのレベルとトレードオフの関係にあります。

**信頼モデルの深堀り**

Interopにおける信頼モデルは、以下の3つの要素に分解できます。

1. **開始メッセージ：** Interopの開始点は、あるL2チェーン
でのイベント（開始メッセージ）です。
2. **実行メッセージ：** 開始メッセージを受け取った別のL2チェーンは、そのメッセージに基づいてスマートコントラクトを実行します（実行メッセージ）。
3. **安全なブロック：** 開始メッセージと実行メッセージは、それぞれL1に書き込まれたブロック
に含まれます。このブロックは、安全であるとみなされます。

**Interopにおけるセキュリティリスク**

Interopでは、以下の2つのセキュリティリスクが発生する可能性があります。

1. **矛盾：** Sequencer（ブロックを生成するノード）が、L1に書き込まれるブロックとGossipプロトコル
を通じて他のノードに配信されるブロックの間に矛盾が生じます。
2. **誤った情報：** Sequencerが、他のチェーンのノードから誤った情報を取得してしまいます。

**時間遅れとセキュリティのトレードオフ**

時間遅れは、セキュリティレベルとトレード
オフの関係にあります。

1. **迅速なメッセージ伝達：** 開始メッセージがGossipプロトコルを通じて配信されるため、最小限の時間遅れで実行メッセージを送信できます。しかし、Sequencerが不正な情報を配信する可能性があり、セキュリティリスクが高まります。
2. **安全なメッセージ伝達：
** 開始メッセージがL1に書き込まれるのを待ってから実行メッセージを送信します。セキュリティレベルは向上しますが、時間遅れが長くなります。

**時間遅れとセキュリティのレベルに応じて、3つの異なるInteropモデルが存在します。**

1. **Unsafe initiating messages:** 最小限の時間遅れ
を実現しますが、セキュリティリスクが高いモデルです。
2. **Safe initiating messages:** 安全性を向上させたモデルですが、時間遅れが発生します。
3. **Finalized initiating messages:** 最も安全なモデルですが、最も長い時間遅れが発生します。

**安全と安全でないセキュリティダイアグラム**


安全でない開始メッセージを使用する場合でも、実行メッセージはL1に書き込まれるまで安全であるとみなされません。

**まとめ**

Interopは、L2チェーン間での連携を可能にする重要な機能ですが、同時にセキュリティリスクを伴う技術です。時間遅れとセキュリティレベルを適切に
バランスさせることで、Interopは安全かつ効率的に運用できます。


この記事が、Interopのセキュリティと信頼モデルを理解する上で役立てば幸いです。今後、L2 Interopに関するより詳細な情報を提供していきます。
